./scripts/domain/050-transient-lifecycle..........
1..2
# Creating a new transient domain
ok 1 - created transient domain object
# Destroying the transient doamin
# Checking that transient domain has gone away
ok 2 - NO_DOMAIN error raised from missing domain
ok
./scripts/domain/060-persistent-lifecycle.........
1..9
# Defining an inactive domain config
ok 1 - defined persistent domain config
# Undefining inactive domain config
# Checking that persistent domain has gone away
ok 2 - NO_DOMAIN error raised from missing domain
# Defining inactive domain config again
ok 3 - defined persistent domain config
# Starting inactive domain config
not ok 4 - running domain has an ID > 0

#   Failed test 'running domain has an ID > 0'
#   at ./scripts/domain/060-persistent-lifecycle.t line 63.
# Trying another domain lookup by name
ok 5 - the running domain object
ok 6 - running domain has an ID > 0
# Destroying the running domain
# Checking there is still an inactive domain config
ok 7 - the inactive domain object
ok 8 - inactive domain has an ID == -1
# Undefining the inactive domain config
ok 9 - NO_DOMAIN error raised from missing domain
# Looks like you failed 1 test of 9.
 Dubious, test returned 1 (wstat 256, 0x100)
 Failed 1/9 subtests 
./scripts/domain/070-transient-to-persistent......
1..4
# Creating a new transient domain
ok 1 - created transient domain
# Defining config for transient guest
ok 2 - defined transient domain
# Destroying active domain
# Checking that an inactive domain config still exists
ok 3 - transient domain config
# Removing inactive domain config
# Checking that inactive domain has really gone
ok 4 - NO_DOMAIN error raised from missing domain
ok
./scripts/domain/080-unique-identifiers...........
1..20
# Starting phase 1
# Defining persistent domain config
ok 1 - defined persistent domain
# Trying to create a running guest with same name, different UUID
ok 2 - OPERATION_FAILED error raised from clashing name
# Trying to create a running guest with same UUID, different name
ok 3 - OPERATION_FAILED error raised from clashing name
# Trying to define a inactive guest with same name, different UUID
not ok 4 - OPERATION_FAILED error raised from clashing name

#   Failed test 'OPERATION_FAILED error raised from clashing name'
#   at ./scripts/domain/080-unique-identifiers.t line 111.
# expecting Sys::Virt::Error object with code 9
# found ''
# Trying to define a inactive guest with same UUID, different name
ok 5 - defined persistent domain
# Checking that domain test1 has really gone after rename
not ok 6 - NO_DOMAIN error raised from missing (renamed) domain

#   Failed test 'NO_DOMAIN error raised from missing (renamed) domain'
#   at ./scripts/domain/080-unique-identifiers.t line 118.
# expecting Sys::Virt::Error object with code 42
# found ''
# Checking the guest really has got new name
ok 7 - fetched persistent domain
# Undefining persistent guest config
# Checking that domain has now gone
ok 8 - NO_DOMAIN error raised from undefined domain
# Checking that original domain is still gone
not ok 9 - NO_DOMAIN error raised from undefined domain

#   Failed test 'NO_DOMAIN error raised from undefined domain'
#   at ./scripts/domain/080-unique-identifiers.t line 133.
# expecting Sys::Virt::Error object with code 42
# found ''
# Starting phase 2
# Creating transient active domain
not ok 10 - created transient domain

#   Failed test 'created transient domain'
#   at ./scripts/domain/080-unique-identifiers.t line 144.
# expected Sys::Virt::Domain object with name test1
# found 'libvirt error code: 9, message: operation failed: domain 'test1' is already defined
# '
# Trying to create a running guest with same name, different UUID
ok 11 - OPERATION_FAILED error raised from clashing name
# Trying to create a running guest with same UUID, different name
not ok 12 - OPERATION_FAILED error raised from clashing name

#   Failed test 'OPERATION_FAILED error raised from clashing name'
#   at ./scripts/domain/080-unique-identifiers.t line 152.
# expecting Sys::Virt::Error object with code 9
# found ''
# Trying to define a inactive guest with same name, different UUID
not ok 13 - OPERATION_FAILED error raised from clashing name

#   Failed test 'OPERATION_FAILED error raised from clashing name'
#   at ./scripts/domain/080-unique-identifiers.t line 156.
# expecting Sys::Virt::Error object with code 9
# found ''
# Trying to define a inactive guest with same UUID, different name
ok 14 - defined persistent domain
# Checking that domain test1 has really gone after rename
not ok 15 - NO_DOMAIN error raised from missing (renamed) domain

#   Failed test 'NO_DOMAIN error raised from missing (renamed) domain'
#   at ./scripts/domain/080-unique-identifiers.t line 164.
# expecting Sys::Virt::Error object with code 42
# found ''
# Checking the guest really has got new name
ok 16 - fetched persistent domain
# Stopping active guest
# Checking the guest has still got new name
ok 17 - fetched persistent domain
# Checking that original domain is still gone
not ok 18 - NO_DOMAIN error raised from undefined domain

#   Failed test 'NO_DOMAIN error raised from undefined domain'
#   at ./scripts/domain/080-unique-identifiers.t line 177.
# expecting Sys::Virt::Error object with code 42
# found ''
# Undefining persistent guest config
# Checking that domain has now gone
ok 19 - NO_DOMAIN error raised from undefined domain
# Checking that original domain is still gone
not ok 20 - NO_DOMAIN error raised from undefined domain

#   Failed test 'NO_DOMAIN error raised from undefined domain'
#   at ./scripts/domain/080-unique-identifiers.t line 189.
# expecting Sys::Virt::Error object with code 42
# found ''
# Looks like you failed 9 tests of 20.
 Dubious, test returned 9 (wstat 2304, 0x900)
 Failed 9/20 subtests 
./scripts/domain/090-invalid-ops-when-inactive....
1..2
# Creating a new persistent domain
ok 1 - defined persistent domain object
ok 2 - suspend of inactive domain not allowed
ok

Test Summary Report
-------------------
./scripts/domain/060-persistent-lifecycle     (Wstat: 256 Tests: 9 Failed: 1)
  Failed test:  4
  Non-zero exit status: 1
./scripts/domain/080-unique-identifiers       (Wstat: 2304 Tests: 20 Failed: 9)
  Failed tests:  4, 6, 9-10, 12-13, 15, 18, 20
  Non-zero exit status: 9
Files=5, Tests=37,  1 wallclock secs ( 0.02 usr  0.01 sys +  0.23 cusr  0.02 csys =  0.28 CPU)
Result: FAIL
